# Decision Log 文档模板

> 本模板定义了 decision-log.md 的标准结构，用于记录所有重要决策，方便回溯和学习。

## 文件位置

```
<truth-root>/specs/_meta/decision-log.md
```

## 标准结构

```markdown
# 决策日志：<项目名称>

> **目的**：记录所有重要决策，方便回溯和学习

## 决策 #001：[决策标题]

**决策时间**：YYYY-MM-DD
**决策阶段**：Proposal / Design / Tasks / Verification
**决策者**：用户 / AI 推荐 / 默认

**背景**：
[为什么需要做这个决策]

**选项**：
- 选项 A：[描述]
  - 优势：[优势]
  - 劣势：[劣势]
  - 适合：[适合什么场景]

- 选项 B：[描述]
  - 优势：[优势]
  - 劣势：[劣势]
  - 适合：[适合什么场景]

**决策**：
选择选项 [X]

**理由**：
- [理由 1]
- [理由 2]
- [理由 3]

**影响**：
- ✅ [正面影响]
- ⚠️ [负面影响]
- ⚠️ [风险]

**后续演变**：
- YYYY-MM-DD：[演变记录]

---

## 决策 #002：[决策标题]

...

---

## 决策模板

**决策 #XXX：[决策标题]**

**决策时间**：YYYY-MM-DD
**决策阶段**：Proposal / Design / Tasks / Verification
**决策者**：用户 / AI 推荐 / 默认

**背景**：
[为什么需要做这个决策]

**选项**：
- 选项 A：[描述]
- 选项 B：[描述]
- 选项 C：[描述]

**决策**：
选择选项 X

**理由**：
- [理由 1]
- [理由 2]
- [理由 3]

**影响**：
- ✅ [正面影响]
- ⚠️ [负面影响]
- ⚠️ [风险]

**后续演变**：
- YYYY-MM-DD：[演变记录]
```

## 使用指南

### 1. 谁来写 Decision Log？

- **proposal-author**：记录 Proposal 阶段的决策
- **design-doc**：记录 Design 阶段的决策
- **implementation-plan**：记录 Tasks 阶段的决策
- **archiver**：归档时整理决策日志

### 2. 谁来读 Decision Log？

| Skill | 读取目的 |
|-------|----------|
| proposal-author | 了解历史决策，避免重复讨论 |
| design-doc | 了解技术选型的历史原因 |
| impact-analysis | 评估决策的长期影响 |
| archiver | 整理决策日志，建立知识库 |

### 3. 决策日志的作用

- **知识沉淀**：记录决策的背景、理由和影响
- **避免重复**：避免重复讨论相同的问题
- **学习改进**：回顾决策的后续演变，学习经验教训
- **团队协作**：让新成员快速了解项目的决策历史

### 4. 决策日志的更新频率

- **实时更新**：每次做出重要决策时立即记录
- **定期回顾**：每月回顾一次，更新"后续演变"部分
- **归档整理**：每次归档时整理决策日志，删除过时的决策

### 5. 什么样的决策需要记录？

**需要记录的决策**：
- 技术选型（选择 A 而不是 B）
- 架构设计（选择方案 A 而不是方案 B）
- 重要的权衡（牺牲 X 换取 Y）
- 边界条件（明确不做什么）

**不需要记录的决策**：
- 显而易见的决策（如使用 Git 做版本控制）
- 临时性的决策（如变量命名）
- 可逆的决策（如代码格式）
