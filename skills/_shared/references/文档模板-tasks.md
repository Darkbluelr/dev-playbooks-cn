# Tasks 文档模板

> 本模板定义了 tasks.md 的标准结构，确保任务清晰、可执行、可跟踪。

## 文件位置

```
<change-root>/<change-id>/tasks.md
```

## 标准结构

```markdown
# <变更标题> - 任务计划

## 🎯 结论先行（30秒阅读）

**本任务会导致**：
- ✅ [会实现什么功能 1]
- ✅ [会实现什么功能 2]
- ✅ 开发时间：[X-Y 天]

**本任务不会导致**：
- ❌ [不会修改什么 1]
- ❌ [不会影响什么 2]

**与 Design 的差异**：
- 📝 Design 说"[Design 的内容]"
- 🔨 Tasks 说"分 [X] 个里程碑实现"

---

## ⚡ 快速批准（30秒）

**任务拆分**：
- MP1：[里程碑 1]（[X-Y 天]）
- MP2：[里程碑 2]（[X-Y 天]）
- MP3：[里程碑 3]（[X-Y 天]）

**如果你同意**：
- [ ] ✅ 同意任务拆分，开始实现

**如果你想调整**：
- [ ] 🔧 我想调整优先级（请说明）
- [ ] 🔧 我想调整时间（请说明）

**默认选择**：✅ 同意任务拆分（24小时后自动批准）

---

## ✅ 批准流程（1分钟）

**当前状态**：
- 📝 状态：待批准
- ⏰ 创建时间：[时间]
- ⏰ 超时时间：[时间]（24小时后）

**如果你同意**：
- [ ] ✅ 批准任务计划，开始实现

**如果你不同意**：
- [ ] ❌ 拒绝任务计划，说明理由：[理由]

**默认选择**：✅ 批准任务计划（24小时后自动批准）

---

## 📋 详细任务（AI阅读）

### 主线计划（Main Plan）

#### MP1: [里程碑 1 标题]

**目标**：[描述里程碑目标]

**任务列表**：
- [ ] Task 1.1: [任务描述]
  - 预计时间：[X 小时]
  - 依赖：无
  - 验收标准：[验收标准]

- [ ] Task 1.2: [任务描述]
  - 预计时间：[X 小时]
  - 依赖：Task 1.1
  - 验收标准：[验收标准]

**里程碑验收**：
- [ ] [验收条件 1]
- [ ] [验收条件 2]

---

#### MP2: [里程碑 2 标题]

**目标**：[描述里程碑目标]

**任务列表**：
- [ ] Task 2.1: [任务描述]
  - 预计时间：[X 小时]
  - 依赖：MP1
  - 验收标准：[验收标准]

**里程碑验收**：
- [ ] [验收条件 1]
- [ ] [验收条件 2]

---

### 临时计划（Temp Plan）

> 实现过程中发现的临时任务

- [ ] Temp 1: [临时任务描述]
  - 发现时间：[时间]
  - 原因：[为什么需要这个任务]
  - 预计时间：[X 小时]

---

### 断点区（Checkpoint）

> 记录实现过程中的关键决策和问题

#### Checkpoint 1: [时间]

**问题**：[遇到的问题]

**决策**：[做出的决策]

**影响**：[对任务计划的影响]

---

### 进度跟踪

| 里程碑 | 状态 | 完成时间 | 备注 |
|--------|------|----------|------|
| MP1 | ✅ 已完成 | [时间] | - |
| MP2 | 🔄 进行中 | - | - |
| MP3 | ⏳ 待开始 | - | - |

---

## 批准历史

| 时间 | 阶段 | 操作 | 操作者 | 理由 |
|------|------|------|--------|------|
| [时间] | Tasks | 创建 | AI | - |
| [时间] | Tasks | 批准 | 用户 | [理由] |
```

## 使用指南

### 1. 结论先行的作用

- **30秒快速理解**：让用户立即知道任务的核心内容
- **时间预估**：明确说明开发时间
- **降低认知负担**：用大白话，不用专业术语

### 2. 快速批准的作用

- **任务拆分**：将大任务拆分为可管理的里程碑
- **快速决策**：用户只需要确认"同意"或"调整"
- **默认批准**：24小时后自动批准

### 3. 主线计划的作用

- **结构化**：按里程碑组织任务
- **可跟踪**：每个任务都有明确的验收标准
- **可并行**：明确任务之间的依赖关系

### 4. 临时计划的作用

- **灵活性**：记录实现过程中发现的临时任务
- **可追溯**：说明为什么需要这个任务

### 5. 断点区的作用

- **决策记录**：记录实现过程中的关键决策
- **问题追踪**：记录遇到的问题和解决方案
- **知识沉淀**：为后续类似任务提供参考
