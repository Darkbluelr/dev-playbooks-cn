# Verification 文档模板

> 本模板定义了 verification.md 的标准结构，确保验收清晰、可测试、可追溯。

## 文件位置

```
<change-root>/<change-id>/verification.md
```

## 标准结构

```markdown
# <变更标题> - 验收文档

## 🎯 结论先行（30秒阅读）

**本验收会导致**：
- ✅ 运行 [X] 个测试用例
- ✅ 验证准确率 >[X]%
- ✅ 验证性能 <[X] 秒

**本验收不会导致**：
- ❌ 不会修改代码
- ❌ 不会影响功能

**验收标准**：
- ✅ 所有测试通过
- ✅ 准确率 >[X]%
- ✅ 性能 <[X] 秒

---

## ✅ 验收批准（30秒）

**测试结果**：
- ✅ 单元测试：[X]/[Y] 通过
- ✅ 集成测试：[X]/[Y] 通过
- ✅ 性能测试：通过（[X] 秒）

**如果你同意**：
- [ ] ✅ 验收通过，可以归档

**如果你不同意**：
- [ ] ❌ 验收不通过（请说明原因）

**默认选择**：✅ 验收通过（12小时后自动批准）

---

## ✅ 批准流程（1分钟）

**当前状态**：
- 📝 状态：待批准
- ⏰ 创建时间：[时间]
- ⏰ 超时时间：[时间]（12小时后）

**如果你同意**：
- [ ] ✅ 批准验收，开始归档

**如果你不同意**：
- [ ] ❌ 拒绝验收，说明理由：[理由]

**默认选择**：✅ 批准验收（12小时后自动批准）

---

## 📋 详细验证（AI阅读）

### 测试覆盖

#### 单元测试

| 测试用例 | 状态 | 说明 |
|----------|------|------|
| test_xxx_1 | ✅ 通过 | [说明] |
| test_xxx_2 | ✅ 通过 | [说明] |

**覆盖率**：[X]%

---

#### 集成测试

| 测试用例 | 状态 | 说明 |
|----------|------|------|
| test_integration_1 | ✅ 通过 | [说明] |
| test_integration_2 | ✅ 通过 | [说明] |

---

#### 性能测试

| 指标 | 目标 | 实际 | 状态 |
|------|------|------|------|
| 响应时间 | <[X]ms | [Y]ms | ✅ 通过 |
| 吞吐量 | >[X] QPS | [Y] QPS | ✅ 通过 |
| 内存占用 | <[X]MB | [Y]MB | ✅ 通过 |

---

### 验收标准追溯

#### AC-001: [验收标准标题]

**来源**：design.md AC-001

**验收条件**：
- [x] [条件1] - 测试用例：test_xxx_1
- [x] [条件2] - 测试用例：test_xxx_2

**验证结果**：✅ 通过

---

#### AC-002: [验收标准标题]

**来源**：design.md AC-002

**验收条件**：
- [x] [条件1] - 测试用例：test_xxx_3
- [x] [条件2] - 测试用例：test_xxx_4

**验证结果**：✅ 通过

---

### 回归测试

#### 现有功能验证

| 功能 | 测试用例 | 状态 | 说明 |
|------|----------|------|------|
| [功能1] | test_regression_1 | ✅ 通过 | 未受影响 |
| [功能2] | test_regression_2 | ✅ 通过 | 未受影响 |

---

### 文档验证

#### 文档更新检查

- [x] README.md 已更新
- [x] 使用文档已更新
- [x] API 文档已更新
- [x] CHANGELOG.md 已更新

---

## 批准历史

| 时间 | 阶段 | 操作 | 操作者 | 理由 |
|------|------|------|--------|------|
| [时间] | Verification | 创建 | AI | - |
| [时间] | Verification | 批准 | 用户 | [理由] |
```

## 使用指南

### 1. 结论先行的作用

- **30秒快速理解**：让用户立即知道验收的核心内容
- **测试结果**：明确说明测试结果
- **降低认知负担**：用大白话，不用专业术语

### 2. 验收批准的作用

- **快速决策**：用户只需要确认"通过"或"不通过"
- **默认批准**：12小时后自动批准（比其他阶段更短）
- **保留控制权**：用户可以随时拒绝验收

### 3. 验收标准追溯的作用

- **可追溯**：每个验收标准都应该与 Design 的 AC 对应
- **可验证**：每个验收条件都应该有对应的测试用例
- **完整性检查**：确保所有 AC 都被验证

### 4. 回归测试的作用

- **防止破坏**：确保现有功能未受影响
- **质量保证**：确保变更不会引入新的问题

### 5. 文档验证的作用

- **文档同步**：确保文档与代码同步
- **用户体验**：确保用户能够正确使用新功能
