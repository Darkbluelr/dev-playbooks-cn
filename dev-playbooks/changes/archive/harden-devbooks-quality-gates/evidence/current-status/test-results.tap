1..55
ok 1 AC-011: script exists and is executable
ok 2 AC-011: supports --help parameter
ok 3 AC-011: can scan directory and output results
ok 4 AC-011: supports --format markdown output
ok 5 AC-011: supports --format json output
ok 6 AC-011: returns usage error with no args
ok 7 AC-011: returns error when scanning nonexistent directory
not ok 8 AC-001: archive mode should fail when no Green evidence
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 37)
#   `[[ "$output" =~ "green" ]] || [[ "$output" =~ "evidence" ]]' failed
not ok 9 AC-001: archive mode should pass with Green evidence
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 58)
#   `[ "$status" -eq 0 ]' failed
not ok 10 AC-002: strict mode should fail with incomplete tasks
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 84)
#   `[[ "$output" =~ "task" ]] || [[ "$output" =~ "incomplete" ]]' failed
not ok 11 AC-002: strict mode should pass with all tasks complete
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 102)
#   `[ "$status" -eq 0 ]' failed
ok 12 AC-003: coder role modifying tests/ should fail # skip Requires git repository with staged test changes - integration test needed
not ok 13 AC-005: strict mode P0 skip without approval should fail
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 160)
#   `[[ "$output" =~ "P0" ]] || [[ "$output" =~ "skip" ]]' failed
not ok 14 AC-005: strict mode P0 skip with approval should pass
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 179)
#   `[ "$status" -eq 0 ]' failed
not ok 15 AC-007: archive mode with failed tests in Green evidence should fail
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 208)
#   `[[ "$output" =~ "FAIL" ]] || [[ "$output" =~ "fail" ]]' failed
not ok 16 AC-007: archive mode with all passed tests in Green evidence should pass
# (in test file tests/harden-devbooks-quality-gates/change-check.bats, line 228)
#   `[ "$status" -eq 0 ]' failed
ok 17 change-check.sh supports --help parameter
ok 18 change-check.sh returns usage error with no args
ok 19 change-check.sh returns error with invalid mode
ok 20 change-check.sh returns error with invalid role
ok 21 AC-006: script exists and is executable
ok 22 AC-006: supports --help parameter
ok 23 AC-006: should fail when verification.md has no env declaration
ok 24 AC-006: should pass when verification.md has env declaration
ok 25 AC-006: env declaration with N/A should pass
ok 26 AC-004: script exists and is executable
ok 27 AC-004: supports --help parameter
ok 28 AC-004: should fail when no handoff.md
ok 29 AC-004: should fail when handoff.md has no confirmation
ok 30 AC-004: should pass when handoff.md has confirmation
not ok 31 AC-004: partial signature should fail (only Test Owner signed)
# (in test file tests/harden-devbooks-quality-gates/handoff-check.bats, line 95)
#   `[ "$status" -ne 0 ]' failed
ok 32 AC-008: change-check.sh passes shellcheck
ok 33 AC-008: handoff-check.sh passes shellcheck
ok 34 AC-008: env-match-check.sh passes shellcheck
ok 35 AC-008: audit-scope.sh passes shellcheck
ok 36 AC-008: progress-dashboard.sh passes shellcheck
ok 37 AC-008: migrate-to-v2-gates.sh passes shellcheck
ok 38 AC-009: change-check.sh supports --help
ok 39 AC-009: handoff-check.sh supports --help
ok 40 AC-009: env-match-check.sh supports --help
ok 41 AC-009: audit-scope.sh supports --help
ok 42 AC-009: progress-dashboard.sh supports --help
ok 43 AC-012: Makefile exists
ok 44 AC-012: make test can run (basic validation)
ok 45 AC-012: bats is installed
ok 46 AC-012: shellcheck is installed
ok 47 migrate-to-v2-gates.sh exists
ok 48 migrate-to-v2-gates.sh is executable
ok 49 migrate-to-v2-gates.sh supports --help
ok 50 AC-010: script exists and is executable
ok 51 AC-010: supports --help parameter
ok 52 AC-010: output contains task completion section
ok 53 AC-010: output contains role status section
ok 54 AC-010: output contains evidence status section
ok 55 AC-010: should error when change package not found
