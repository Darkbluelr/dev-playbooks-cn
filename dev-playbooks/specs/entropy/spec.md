# entropy

---
owner: Spec Gardener
last_verified: 2026-01-10
status: Active
freshness_check: 3 Months
---

## Purpose

æè¿°ç†µåº¦é‡å¯è§†åŒ–èƒ½åŠ›ï¼šMermaid å›¾è¡¨ + ASCII ä»ªè¡¨ç›˜ + ç»ˆç«¯å…¼å®¹æ€§ã€‚

---

## Requirements

### Requirement: REQ-ENT-001 Mermaid å›¾è¡¨æ”¯æŒ

ç³»ç»Ÿ **SHALL** åœ¨ç†µåº¦é‡æŠ¥å‘Šä¸­åŒ…å« Mermaid å›¾è¡¨ï¼Œæå‡å¯è¯»æ€§ã€‚

**å›¾è¡¨ç±»å‹**ï¼š
1. **è¶‹åŠ¿æŠ˜çº¿å›¾**ï¼šå±•ç¤ºç†µæŒ‡æ ‡çš„æ—¶é—´è¶‹åŠ¿ï¼ˆ30 å¤©ï¼‰
2. **çƒ­ç‚¹æ¡å½¢å›¾**ï¼šå±•ç¤ºçƒ­ç‚¹æ–‡ä»¶åŠå…¶å¤æ‚åº¦
3. **é›·è¾¾å›¾**ï¼šå±•ç¤ºå››ç±»ç†µï¼ˆç»“æ„ç†µ/å˜æ›´ç†µ/æµ‹è¯•ç†µ/ä¾èµ–ç†µï¼‰çš„å¯¹æ¯”

**éªŒæ”¶æ¡ä»¶**ï¼š
- æŠ¥å‘ŠåŒ…å«è‡³å°‘ 2 ä¸ª Mermaid å›¾è¡¨
- Mermaid ä»£ç å—è¯­æ³•æ­£ç¡®ï¼Œå¯è¢« GitHub/GitLab æ¸²æŸ“
- å›¾è¡¨æ•°æ®ä¸æ–‡æœ¬è¡¨æ ¼ä¸€è‡´
- ç»ˆç«¯ä¸­æŸ¥çœ‹æ—¶ï¼ŒMermaid ä»£ç å—ä¸ç ´åå¯è¯»æ€§

#### Scenario: SC-ENT-001 ç”Ÿæˆ Mermaid å›¾è¡¨

- **GIVEN** ç†µåº¦é‡å·¥å…·å¯ç”¨
- **WHEN** æ‰§è¡Œ `./tools/devbooks-entropy-viz.sh --output report.md`
- **THEN** æŠ¥å‘ŠåŒ…å«è‡³å°‘ 2 ä¸ª `\`\`\`mermaid` ä»£ç å—

**Trace**: AC-006, SPEC-ENT-001 CT-ENT-001

---

### Requirement: REQ-ENT-002 ASCII ä»ªè¡¨ç›˜

ç³»ç»Ÿ **SHALL** åœ¨ç†µåº¦é‡æŠ¥å‘Šä¸­åŒ…å« ASCII ä»ªè¡¨ç›˜ï¼Œæä¾›ç»ˆç«¯å‹å¥½çš„å®æ—¶åé¦ˆã€‚

**ä»ªè¡¨ç›˜å†…å®¹**ï¼š
1. **ç»¼åˆå¥åº·åº¦è¯„åˆ†**ï¼š0-100 åˆ†ï¼Œå½©è‰²è¿›åº¦æ¡
2. **å››ç±»ç†µæŒ‡æ ‡**ï¼šç»“æ„ç†µã€å˜æ›´ç†µã€æµ‹è¯•ç†µã€ä¾èµ–ç†µï¼Œå„å¸¦è¿›åº¦æ¡ä¸çŠ¶æ€å›¾æ ‡
3. **é˜ˆå€¼é¢„è­¦**ï¼šè¶…è¿‡é˜ˆå€¼æ—¶æ˜¾ç¤ºè­¦å‘Šæ ‡è¯†

**éªŒæ”¶æ¡ä»¶**ï¼š
- ä»ªè¡¨ç›˜ä½¿ç”¨ ANSI é¢œè‰²ç ï¼ˆç»¿è‰² âœ…ã€é»„è‰² âš ï¸ã€çº¢è‰² ğŸ”´ï¼‰
- æ”¯æŒ `NO_COLOR` ç¯å¢ƒå˜é‡ï¼ˆç¦ç”¨å½©è‰²æ—¶é™çº§åˆ°çº¯æ–‡æœ¬ï¼‰
- è¿›åº¦æ¡é•¿åº¦å›ºå®šï¼ˆ40 å­—ç¬¦ï¼‰ï¼Œé¿å…ç»ˆç«¯æ¢è¡Œ
- çŠ¶æ€å›¾æ ‡æ¸…æ™°æ˜“æ‡‚

#### Scenario: SC-ENT-002 ç”Ÿæˆ ASCII ä»ªè¡¨ç›˜

- **GIVEN** ç†µåº¦é‡å·¥å…·å¯ç”¨
- **WHEN** æ‰§è¡Œ `./tools/devbooks-entropy-viz.sh --output report.md`
- **THEN** æŠ¥å‘ŠåŒ…å«ç»¼åˆå¥åº·åº¦è¯„åˆ†å’Œè¿›åº¦æ¡å­—ç¬¦

**Trace**: AC-006, SPEC-ENT-001 CT-ENT-002

---

### Requirement: REQ-ENT-003 å‘åå…¼å®¹

ç³»ç»Ÿ **SHALL** ä¿æŒå‘åå…¼å®¹ï¼Œæ–°å¢å¯è§†åŒ–å†…å®¹ä¸ç ´ååŸæœ‰æ–‡æœ¬è¡¨æ ¼ã€‚

**å…¼å®¹æ€§è¦æ±‚**ï¼š
- åŸæœ‰æ–‡æœ¬è¡¨æ ¼ä¿æŒä¸å˜ï¼ˆä½ç½®ã€æ ¼å¼ã€å†…å®¹ï¼‰
- æ–°å¢å¯è§†åŒ–ä½œä¸ºç‹¬ç«‹ç« èŠ‚æ’å…¥
- æ—§ç‰ˆæœ¬æ¸²æŸ“å™¨ä¸æ”¯æŒ Mermaid æ—¶ï¼Œä»å¯é˜…è¯»æ–‡æœ¬è¡¨æ ¼
- é…ç½®é¡¹ `features.entropy_visualization` å¯å…³é—­å¯è§†åŒ–

#### Scenario: SC-ENT-003 ç¦ç”¨å¯è§†åŒ–

- **GIVEN** é…ç½® `features.entropy_visualization: false`
- **WHEN** æ‰§è¡Œç†µåº¦é‡å·¥å…·
- **THEN** æŠ¥å‘Šä¸åŒ…å« Mermaid å›¾è¡¨å’Œ ASCII ä»ªè¡¨ç›˜
- **AND** æŠ¥å‘Šæ ¼å¼ä¸åŸç‰ˆä¸€è‡´

**Trace**: AC-008, SPEC-ENT-001 CT-ENT-003

---

### Requirement: REQ-ENT-004 ç»ˆç«¯å…¼å®¹æ€§

ç³»ç»Ÿ **SHALL** ç¡®ä¿ ASCII ä»ªè¡¨ç›˜åœ¨å„ç§ç»ˆç«¯ç¯å¢ƒä¸‹æ­£å¸¸æ˜¾ç¤ºã€‚

**å…¼å®¹æ€§æµ‹è¯•**ï¼š
- macOS Terminal
- iTerm2
- Linux gnome-terminal
- Windows Terminal
- VS Code ç»ˆç«¯
- SSH è¿œç¨‹ç»ˆç«¯

**éªŒæ”¶æ¡ä»¶**ï¼š
- æ‰€æœ‰æµ‹è¯•ç»ˆç«¯éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º ANSI é¢œè‰²
- æ”¯æŒ `NO_COLOR` ç¯å¢ƒå˜é‡
- ä¸ä¾èµ– Unicode ç‰¹æ®Šå­—ç¬¦ï¼ˆé¿å…ä¹±ç ï¼‰
- å®½åº¦é€‚é… 80 åˆ—ç»ˆç«¯

#### Scenario: SC-ENT-004 NO_COLOR ç¯å¢ƒå˜é‡

- **GIVEN** `NO_COLOR=1` ç¯å¢ƒå˜é‡å·²è®¾ç½®
- **WHEN** æ‰§è¡Œç†µåº¦é‡å·¥å…·
- **THEN** æŠ¥å‘Šä¸åŒ…å« ANSI é¢œè‰²ç 
- **AND** çŠ¶æ€ç”¨æ–‡æœ¬æ ‡è¯†ï¼š`[OK]`, `[WARNING]`, `[ERROR]`

**Trace**: SPEC-ENT-001 CT-ENT-004

---

### Requirement: REQ-ENT-005 é…ç½®åŒ–

ç³»ç»Ÿ **SHALL** æ”¯æŒå¯è§†åŒ–åŠŸèƒ½é…ç½®ï¼Œå…è®¸ç”¨æˆ·è‡ªä¸»é€‰æ‹©ã€‚

**é…ç½®é¡¹**ï¼š
- `features.entropy_visualization`ï¼šæ˜¯å¦å¯ç”¨å¯è§†åŒ–ï¼ˆé»˜è®¤ï¼š`true`ï¼‰
- `features.entropy_mermaid`ï¼šæ˜¯å¦ç”Ÿæˆ Mermaid å›¾è¡¨ï¼ˆé»˜è®¤ï¼š`true`ï¼‰
- `features.entropy_ascii_dashboard`ï¼šæ˜¯å¦ç”Ÿæˆ ASCII ä»ªè¡¨ç›˜ï¼ˆé»˜è®¤ï¼š`true`ï¼‰

#### Scenario: SC-ENT-005 åˆ†åˆ«ç¦ç”¨ Mermaid

- **GIVEN** é…ç½® `features.entropy_mermaid: false`
- **WHEN** æ‰§è¡Œç†µåº¦é‡å·¥å…·
- **THEN** æŠ¥å‘Šä¸åŒ…å« Mermaid å›¾è¡¨ä½†åŒ…å« ASCII ä»ªè¡¨ç›˜

**Trace**: SPEC-ENT-001 CT-ENT-003

---

### Requirement: REQ-ENT-006 æµ‹è¯•è¦†ç›–

ç³»ç»Ÿ **SHALL** ä¸ºç†µå¯è§†åŒ–åŠŸèƒ½æä¾›å……åˆ†çš„æµ‹è¯•è¦†ç›–ã€‚

**æµ‹è¯•è¦æ±‚**ï¼š
- ç†µå¯è§†åŒ–æµ‹è¯•ç”¨ä¾‹ â‰¥ 3ï¼ˆæ‰¹å‡†æ¡ä»¶ï¼‰
- è¦†ç›– Mermaid å›¾è¡¨ç”Ÿæˆ
- è¦†ç›– ASCII ä»ªè¡¨ç›˜ç”Ÿæˆ
- è¦†ç›–ç»ˆç«¯å…¼å®¹æ€§

#### Scenario: SC-ENT-006 æµ‹è¯•è¦†ç›–

- **GIVEN** ç†µå¯è§†åŒ–æµ‹è¯•å¥—ä»¶å¯ç”¨
- **WHEN** è¿è¡Œæ‰€æœ‰ç†µå¯è§†åŒ–æµ‹è¯•
- **THEN** æµ‹è¯•ç”¨ä¾‹ â‰¥ 3 ä¸”å…¨éƒ¨é€šè¿‡

**Trace**: SPEC-ENT-001 CT-ENT-005

---

## æ•°æ®é©±åŠ¨å®ä¾‹

### ASCII ä»ªè¡¨ç›˜è§„èŒƒ

#### å½©è‰²ç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼‰

| å…ƒç´  | ANSI é¢œè‰²ç  | å›¾æ ‡ |
|------|------------|------|
| è‰¯å¥½ | `\033[32m` | âœ… |
| è­¦å‘Š | `\033[33m` | âš ï¸ |
| é”™è¯¯ | `\033[31m` | ğŸ”´ |
| é‡ç½® | `\033[0m` | - |

**è¿›åº¦æ¡å­—ç¬¦**ï¼š
- å¡«å……ï¼š`â–ˆ` (U+2588)
- ç©ºç™½ï¼š`â–‘` (U+2591)
- åˆ†éš”ï¼š`â”` (U+2501)

#### çº¯æ–‡æœ¬ç‰ˆæœ¬ï¼ˆNO_COLORï¼‰

| å…ƒç´  | æ–‡æœ¬æ ‡è¯† | è¿›åº¦æ¡ |
|------|----------|--------|
| è‰¯å¥½ | `[OK]` | `#` |
| è­¦å‘Š | `[WARNING]` | `#` |
| é”™è¯¯ | `[ERROR]` | `#` |

### Mermaid å›¾è¡¨ç±»å‹

| å›¾è¡¨ç±»å‹ | ç”¨é€” | Mermaid è¯­æ³• |
|----------|------|--------------|
| xychart-beta | è¶‹åŠ¿æŠ˜çº¿å›¾ | `xychart-beta title "..." x-axis [...] y-axis "..." 0 --> 100 line [...]` |
| graph TD | çƒ­ç‚¹æ–‡ä»¶å›¾ | `graph TD A["æ–‡ä»¶å<br/>å¤æ‚åº¦: N"] style A fill:#FFC107` |
| graph LR | é›·è¾¾å›¾æ›¿ä»£ | `graph LR A[æŒ‡æ ‡1: N%] B[æŒ‡æ ‡2: M%]` |

### é…ç½®é¡¹å¯¹ç…§è¡¨

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| features.entropy_visualization | boolean | true | æ€»å¼€å…³ |
| features.entropy_mermaid | boolean | true | Mermaid å›¾è¡¨ |
| features.entropy_ascii_dashboard | boolean | true | ASCII ä»ªè¡¨ç›˜ |

---

*è§„æ ¼ç”± boost-local-intelligence å˜æ›´åŒ…åˆ›å»ºï¼ˆ2026-01-10ï¼‰ï¼ŒSpec Gardener å½’æ¡£*
